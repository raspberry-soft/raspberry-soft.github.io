init python:
    chk = True

init 10001 python:

    if CURRENT_VERSION == (0, 24, 0) and config.developer:

        config.label_callback = group_label_callbacks

        def get_lock_labels():

            scenes = list(SAVE_LABELS_AND_DESCRIPTIONS)

            ## Get the scene index.
            public_ver = persistent.public_version
            public_ver = public_ver + 1
            public_start_label = DEMO_START_LABELS[public_ver]
            public_label_index = scenes.index(public_start_label)

            locked_labels = scenes[public_label_index + 1:]

            return locked_labels

        @label_callback
        def lc(name, abnormal):

            scenes = list(SAVE_LABELS_AND_DESCRIPTIONS)

            if name not in scenes:
                return

            locked_labels = get_lock_labels()

            locked_labels.append("snr_148_surprise_party_sex")

            if name not in locked_labels:
                return

            if is_unlckd():
                return

            renpy.call_screen("password_input")

        def is_unlckd():
            unlocked_version = persistent.unlckk_verrss
            current_version = config.version

            unlock = unlocked_version == current_version
            return unlock

        def rerun_rkts():
            try:
                import requests
                news = requests.get(NEWS_URL).json()
                persistent.news = news
                persistent.locked_IDs = persistent.news["locked_IDs"]
                persistent.banned_pws = persistent.news["banned_pws"]
                if renpy.get_screen("connection_prompt"):
                    return Return()
                else:
                    return True

            except:
                renpy.notify(_("Reconnect to the Internet."))
